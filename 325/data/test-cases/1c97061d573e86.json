{
  "uid" : "1c97061d573e86",
  "name" : "POST Запрос на смену почты",
  "fullName" : "tests.test_api.test_api.TestAPI#test_post_auth_change_email",
  "historyId" : "b05e07f6bb5e624e3a2d1bcc8ca2be0d",
  "time" : {
    "start" : 1741718657538,
    "stop" : 1741718659917,
    "duration" : 2379
  },
  "status" : "failed",
  "statusMessage" : "AssertionError: Unexpected status code. Expected: 204. Actual: 400",
  "statusTrace" : "self = <tests.test_api.test_api.TestAPI object at 0x7ffa641c4320>\nuse_api_base = <api_testing.api_base.ApiBase object at 0x7ffa63bca900>\n\n    @allure.title(\"POST Запрос на смену почты\")\n    def test_post_auth_change_email(self, use_api_base):\n        jwt = use_api_base.create_tokens(email1, password0)[0]\n        url = f'{self.link.BASE_URL}auth/change_email/'\n        response = requests.post(url, headers={'accept': 'application/json', 'Authorization': f\"{jwt}\"},\n                                 json=self.constant.NEW_EMAIL)\n>       Assertions.assert_status_code(response, self.code.STATUS_204)\n\ntests/test_api/test_api.py:196: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nresponse = <Response [400]>, expected_status_code = 204\n\n    @staticmethod\n    def assert_status_code(response: Response, expected_status_code: int):\n        actual_status_code = response.status_code\n        with allure.step(f\"Expected status {expected_status_code}\"):\n>           assert actual_status_code == expected_status_code, \\\n                f\"Unexpected status code. Expected: {expected_status_code}. Actual: {actual_status_code}\"\nE           AssertionError: Unexpected status code. Expected: 204. Actual: 400\n\napi_testing/assertions.py:11: AssertionError",
  "flaky" : false,
  "newFailed" : true,
  "beforeStages" : [ {
    "name" : "_session_faker",
    "time" : {
      "start" : 1741718600920,
      "stop" : 1741718600935,
      "duration" : 15
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "use_api_base",
    "time" : {
      "start" : 1741718657538,
      "stop" : 1741718657538,
      "duration" : 0
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "clear_allure_results_folder",
    "time" : {
      "start" : 1741718600935,
      "stop" : 1741718600935,
      "duration" : 0
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  } ],
  "testStage" : {
    "status" : "failed",
    "statusMessage" : "AssertionError: Unexpected status code. Expected: 204. Actual: 400",
    "statusTrace" : "self = <tests.test_api.test_api.TestAPI object at 0x7ffa641c4320>\nuse_api_base = <api_testing.api_base.ApiBase object at 0x7ffa63bca900>\n\n    @allure.title(\"POST Запрос на смену почты\")\n    def test_post_auth_change_email(self, use_api_base):\n        jwt = use_api_base.create_tokens(email1, password0)[0]\n        url = f'{self.link.BASE_URL}auth/change_email/'\n        response = requests.post(url, headers={'accept': 'application/json', 'Authorization': f\"{jwt}\"},\n                                 json=self.constant.NEW_EMAIL)\n>       Assertions.assert_status_code(response, self.code.STATUS_204)\n\ntests/test_api/test_api.py:196: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nresponse = <Response [400]>, expected_status_code = 204\n\n    @staticmethod\n    def assert_status_code(response: Response, expected_status_code: int):\n        actual_status_code = response.status_code\n        with allure.step(f\"Expected status {expected_status_code}\"):\n>           assert actual_status_code == expected_status_code, \\\n                f\"Unexpected status code. Expected: {expected_status_code}. Actual: {actual_status_code}\"\nE           AssertionError: Unexpected status code. Expected: 204. Actual: 400\n\napi_testing/assertions.py:11: AssertionError",
    "steps" : [ {
      "name" : "Получить access токен пользователя",
      "time" : {
        "start" : 1741718657539,
        "stop" : 1741718658716,
        "duration" : 1177
      },
      "status" : "passed",
      "steps" : [ ],
      "attachments" : [ ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : false,
      "hasContent" : false
    }, {
      "name" : "Expected status 204",
      "time" : {
        "start" : 1741718659917,
        "stop" : 1741718659917,
        "duration" : 0
      },
      "status" : "failed",
      "statusMessage" : "AssertionError: Unexpected status code. Expected: 204. Actual: 400\n",
      "statusTrace" : "  File \"/home/runner/work/PulseWave/PulseWave/api_testing/assertions.py\", line 11, in assert_status_code\n    assert actual_status_code == expected_status_code, \\\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n",
      "steps" : [ ],
      "attachments" : [ ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : true,
      "hasContent" : true
    } ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 2,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : true,
    "hasContent" : true
  },
  "afterStages" : [ ],
  "labels" : [ {
    "name" : "epic",
    "value" : "Тестирование API"
  }, {
    "name" : "parentSuite",
    "value" : "tests.test_api"
  }, {
    "name" : "suite",
    "value" : "test_api"
  }, {
    "name" : "subSuite",
    "value" : "TestAPI"
  }, {
    "name" : "host",
    "value" : "fv-az1360-893"
  }, {
    "name" : "thread",
    "value" : "2413-MainThread"
  }, {
    "name" : "framework",
    "value" : "pytest"
  }, {
    "name" : "language",
    "value" : "cpython3"
  }, {
    "name" : "package",
    "value" : "tests.test_api.test_api"
  }, {
    "name" : "resultFormat",
    "value" : "allure2"
  } ],
  "parameters" : [ ],
  "links" : [ ],
  "hidden" : false,
  "retry" : false,
  "extra" : {
    "severity" : "normal",
    "retries" : [ ],
    "categories" : [ {
      "name" : "Product defects",
      "matchedStatuses" : [ ],
      "flaky" : false
    } ],
    "history" : {
      "statistic" : {
        "failed" : 11,
        "broken" : 32,
        "skipped" : 0,
        "passed" : 329,
        "unknown" : 0,
        "total" : 372
      },
      "items" : [ {
        "uid" : "fa9244c1f44e25bc",
        "reportUrl" : "https://Nat754.github.io/PulseWave/325//#testresult/fa9244c1f44e25bc",
        "status" : "passed",
        "time" : {
          "start" : 1741716747628,
          "stop" : 1741716750526,
          "duration" : 2898
        }
      }, {
        "uid" : "37e7ef0d5ba99c74",
        "reportUrl" : "https://Nat754.github.io/PulseWave/324//#testresult/37e7ef0d5ba99c74",
        "status" : "passed",
        "time" : {
          "start" : 1741631598272,
          "stop" : 1741631600714,
          "duration" : 2442
        }
      }, {
        "uid" : "707552c7299749e",
        "reportUrl" : "https://Nat754.github.io/PulseWave/324//#testresult/707552c7299749e",
        "status" : "passed",
        "time" : {
          "start" : 1741630259241,
          "stop" : 1741630261923,
          "duration" : 2682
        }
      }, {
        "uid" : "25cec711375ec323",
        "reportUrl" : "https://Nat754.github.io/PulseWave/323//#testresult/25cec711375ec323",
        "status" : "passed",
        "time" : {
          "start" : 1741543744877,
          "stop" : 1741543747765,
          "duration" : 2888
        }
      }, {
        "uid" : "f61d206a26afb36e",
        "reportUrl" : "https://Nat754.github.io/PulseWave/322//#testresult/f61d206a26afb36e",
        "status" : "passed",
        "time" : {
          "start" : 1741457309887,
          "stop" : 1741457312377,
          "duration" : 2490
        }
      }, {
        "uid" : "521ec66f041ac240",
        "reportUrl" : "https://Nat754.github.io/PulseWave/321//#testresult/521ec66f041ac240",
        "status" : "passed",
        "time" : {
          "start" : 1741371116987,
          "stop" : 1741371119911,
          "duration" : 2924
        }
      }, {
        "uid" : "2fcf20b5a865914f",
        "reportUrl" : "https://Nat754.github.io/PulseWave/320//#testresult/2fcf20b5a865914f",
        "status" : "passed",
        "time" : {
          "start" : 1741284712980,
          "stop" : 1741284715306,
          "duration" : 2326
        }
      }, {
        "uid" : "fd6d1c101bb02909",
        "reportUrl" : "https://Nat754.github.io/PulseWave/319//#testresult/fd6d1c101bb02909",
        "status" : "passed",
        "time" : {
          "start" : 1741198342972,
          "stop" : 1741198345846,
          "duration" : 2874
        }
      }, {
        "uid" : "9870121d0b90556b",
        "reportUrl" : "https://Nat754.github.io/PulseWave/318//#testresult/9870121d0b90556b",
        "status" : "passed",
        "time" : {
          "start" : 1741111920818,
          "stop" : 1741111923560,
          "duration" : 2742
        }
      }, {
        "uid" : "f74fda1d4aac9def",
        "reportUrl" : "https://Nat754.github.io/PulseWave/317//#testresult/f74fda1d4aac9def",
        "status" : "passed",
        "time" : {
          "start" : 1741025476703,
          "stop" : 1741025479453,
          "duration" : 2750
        }
      }, {
        "uid" : "25dd68596043b570",
        "reportUrl" : "https://Nat754.github.io/PulseWave/316//#testresult/25dd68596043b570",
        "status" : "passed",
        "time" : {
          "start" : 1740939020279,
          "stop" : 1740939023207,
          "duration" : 2928
        }
      }, {
        "uid" : "3120ffee5eac9991",
        "reportUrl" : "https://Nat754.github.io/PulseWave/315//#testresult/3120ffee5eac9991",
        "status" : "passed",
        "time" : {
          "start" : 1740852615891,
          "stop" : 1740852618262,
          "duration" : 2371
        }
      }, {
        "uid" : "5d75c335fe0a7cf2",
        "reportUrl" : "https://Nat754.github.io/PulseWave/314//#testresult/5d75c335fe0a7cf2",
        "status" : "passed",
        "time" : {
          "start" : 1740766306633,
          "stop" : 1740766309160,
          "duration" : 2527
        }
      }, {
        "uid" : "a93ca95535be2c1f",
        "reportUrl" : "https://Nat754.github.io/PulseWave/313//#testresult/a93ca95535be2c1f",
        "status" : "passed",
        "time" : {
          "start" : 1740679912667,
          "stop" : 1740679915305,
          "duration" : 2638
        }
      }, {
        "uid" : "fd1de2c0ee76e64a",
        "reportUrl" : "https://Nat754.github.io/PulseWave/312//#testresult/fd1de2c0ee76e64a",
        "status" : "passed",
        "time" : {
          "start" : 1740593582018,
          "stop" : 1740593584971,
          "duration" : 2953
        }
      }, {
        "uid" : "d5502d1d1dd98d2e",
        "reportUrl" : "https://Nat754.github.io/PulseWave/311//#testresult/d5502d1d1dd98d2e",
        "status" : "passed",
        "time" : {
          "start" : 1740507141324,
          "stop" : 1740507144481,
          "duration" : 3157
        }
      }, {
        "uid" : "5c0c8be48426d73c",
        "reportUrl" : "https://Nat754.github.io/PulseWave/310//#testresult/5c0c8be48426d73c",
        "status" : "passed",
        "time" : {
          "start" : 1740420725871,
          "stop" : 1740420728772,
          "duration" : 2901
        }
      }, {
        "uid" : "f88948e016b8993e",
        "reportUrl" : "https://Nat754.github.io/PulseWave/309//#testresult/f88948e016b8993e",
        "status" : "passed",
        "time" : {
          "start" : 1740334244465,
          "stop" : 1740334246967,
          "duration" : 2502
        }
      }, {
        "uid" : "a9f51187e5adc895",
        "reportUrl" : "https://Nat754.github.io/PulseWave/308//#testresult/a9f51187e5adc895",
        "status" : "passed",
        "time" : {
          "start" : 1740247788712,
          "stop" : 1740247791458,
          "duration" : 2746
        }
      }, {
        "uid" : "82e7a275381664e2",
        "reportUrl" : "https://Nat754.github.io/PulseWave/307//#testresult/82e7a275381664e2",
        "status" : "passed",
        "time" : {
          "start" : 1740161486424,
          "stop" : 1740161489307,
          "duration" : 2883
        }
      } ]
    },
    "tags" : [ ]
  },
  "source" : "1c97061d573e86.json",
  "parameterValues" : [ ]
}