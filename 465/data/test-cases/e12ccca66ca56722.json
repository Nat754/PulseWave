{
  "uid" : "e12ccca66ca56722",
  "name" : "POST Запрос на смену почты",
  "fullName" : "tests.api_tests.api_test.TestAPI#test_post_auth_change_email",
  "historyId" : "032f141dc9b70176e56052d24efc9c95",
  "time" : {
    "start" : 1753822509848,
    "stop" : 1753822512630,
    "duration" : 2782
  },
  "status" : "failed",
  "statusMessage" : "AssertionError: Unexpected status code. Expected: 204. Actual: 400",
  "statusTrace" : "self = <tests.api_tests.api_test.TestAPI object at 0x7f5dedfa0680>\nuse_api_base = <api_testing.api_base.ApiBase object at 0x7f5dedfd6fc0>\n\n    @allure.title(\"POST Запрос на смену почты\")\n    def test_post_auth_change_email(self, use_api_base):\n        jwt = use_api_base.create_tokens(email1, password0)[0]\n        url = f'{self.link.BASE_URL}auth/change_email/'\n        response = requests.post(url, headers={'accept': 'application/json', 'Authorization': f\"{jwt}\"},\n                                 json=self.constant.NEW_EMAIL)\n>       Assertions.assert_status_code(response, self.code.STATUS_204)\n\ntests/api_tests/api_test.py:196: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nresponse = <Response [400]>, expected_status_code = 204\n\n    @staticmethod\n    def assert_status_code(response: Response, expected_status_code: int):\n        actual_status_code = response.status_code\n        with allure.step(f\"Expected status {expected_status_code}\"):\n>           assert actual_status_code == expected_status_code, \\\n                f\"Unexpected status code. Expected: {expected_status_code}. Actual: {actual_status_code}\"\nE           AssertionError: Unexpected status code. Expected: 204. Actual: 400\n\napi_testing/assertions.py:11: AssertionError",
  "flaky" : false,
  "newFailed" : true,
  "beforeStages" : [ {
    "name" : "use_api_base",
    "time" : {
      "start" : 1753822509847,
      "stop" : 1753822509847,
      "duration" : 0
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "clear_allure_results_folder",
    "time" : {
      "start" : 1753822430429,
      "stop" : 1753822430429,
      "duration" : 0
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "_session_faker",
    "time" : {
      "start" : 1753822430415,
      "stop" : 1753822430429,
      "duration" : 14
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  } ],
  "testStage" : {
    "status" : "failed",
    "statusMessage" : "AssertionError: Unexpected status code. Expected: 204. Actual: 400",
    "statusTrace" : "self = <tests.api_tests.api_test.TestAPI object at 0x7f5dedfa0680>\nuse_api_base = <api_testing.api_base.ApiBase object at 0x7f5dedfd6fc0>\n\n    @allure.title(\"POST Запрос на смену почты\")\n    def test_post_auth_change_email(self, use_api_base):\n        jwt = use_api_base.create_tokens(email1, password0)[0]\n        url = f'{self.link.BASE_URL}auth/change_email/'\n        response = requests.post(url, headers={'accept': 'application/json', 'Authorization': f\"{jwt}\"},\n                                 json=self.constant.NEW_EMAIL)\n>       Assertions.assert_status_code(response, self.code.STATUS_204)\n\ntests/api_tests/api_test.py:196: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nresponse = <Response [400]>, expected_status_code = 204\n\n    @staticmethod\n    def assert_status_code(response: Response, expected_status_code: int):\n        actual_status_code = response.status_code\n        with allure.step(f\"Expected status {expected_status_code}\"):\n>           assert actual_status_code == expected_status_code, \\\n                f\"Unexpected status code. Expected: {expected_status_code}. Actual: {actual_status_code}\"\nE           AssertionError: Unexpected status code. Expected: 204. Actual: 400\n\napi_testing/assertions.py:11: AssertionError",
    "steps" : [ {
      "name" : "Получить access токен пользователя",
      "time" : {
        "start" : 1753822509848,
        "stop" : 1753822510956,
        "duration" : 1108
      },
      "status" : "passed",
      "steps" : [ ],
      "attachments" : [ ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : false,
      "hasContent" : false
    }, {
      "name" : "Expected status 204",
      "time" : {
        "start" : 1753822512630,
        "stop" : 1753822512630,
        "duration" : 0
      },
      "status" : "failed",
      "statusMessage" : "AssertionError: Unexpected status code. Expected: 204. Actual: 400\n",
      "statusTrace" : "  File \"/home/runner/work/PulseWave/PulseWave/api_testing/assertions.py\", line 11, in assert_status_code\n    assert actual_status_code == expected_status_code, \\\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n",
      "steps" : [ ],
      "attachments" : [ ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : true,
      "hasContent" : true
    } ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 2,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : true,
    "hasContent" : true
  },
  "afterStages" : [ ],
  "labels" : [ {
    "name" : "epic",
    "value" : "Тестирование API"
  }, {
    "name" : "parentSuite",
    "value" : "tests.api_tests"
  }, {
    "name" : "suite",
    "value" : "api_test"
  }, {
    "name" : "subSuite",
    "value" : "TestAPI"
  }, {
    "name" : "host",
    "value" : "pkrvmjbmru5nbw0"
  }, {
    "name" : "thread",
    "value" : "2560-MainThread"
  }, {
    "name" : "framework",
    "value" : "pytest"
  }, {
    "name" : "language",
    "value" : "cpython3"
  }, {
    "name" : "package",
    "value" : "tests.api_tests.api_test"
  }, {
    "name" : "resultFormat",
    "value" : "allure2"
  } ],
  "parameters" : [ ],
  "links" : [ ],
  "hidden" : false,
  "retry" : false,
  "extra" : {
    "severity" : "normal",
    "retries" : [ ],
    "categories" : [ {
      "name" : "Product defects",
      "matchedStatuses" : [ ],
      "flaky" : false
    } ],
    "history" : {
      "statistic" : {
        "failed" : 1,
        "broken" : 0,
        "skipped" : 0,
        "passed" : 37,
        "unknown" : 0,
        "total" : 38
      },
      "items" : [ {
        "uid" : "b56b43f03476550",
        "reportUrl" : "https://Nat754.github.io/PulseWave/465//#testresult/b56b43f03476550",
        "status" : "passed",
        "time" : {
          "start" : 1753812907055,
          "stop" : 1753812909572,
          "duration" : 2517
        }
      }, {
        "uid" : "be3a423f207895ac",
        "reportUrl" : "https://Nat754.github.io/PulseWave/464//#testresult/be3a423f207895ac",
        "status" : "passed",
        "time" : {
          "start" : 1753726520303,
          "stop" : 1753726521904,
          "duration" : 1601
        }
      }, {
        "uid" : "43bff46bfc6e88cc",
        "reportUrl" : "https://Nat754.github.io/PulseWave/463//#testresult/43bff46bfc6e88cc",
        "status" : "passed",
        "time" : {
          "start" : 1753639968055,
          "stop" : 1753639970091,
          "duration" : 2036
        }
      }, {
        "uid" : "739aa227fa1a00e5",
        "reportUrl" : "https://Nat754.github.io/PulseWave/462//#testresult/739aa227fa1a00e5",
        "status" : "passed",
        "time" : {
          "start" : 1753553551842,
          "stop" : 1753553553878,
          "duration" : 2036
        }
      }, {
        "uid" : "38fbd3cf463f213f",
        "reportUrl" : "https://Nat754.github.io/PulseWave/461//#testresult/38fbd3cf463f213f",
        "status" : "passed",
        "time" : {
          "start" : 1753467216903,
          "stop" : 1753467218563,
          "duration" : 1660
        }
      }, {
        "uid" : "7467e1ca61de8d12",
        "reportUrl" : "https://Nat754.github.io/PulseWave/460//#testresult/7467e1ca61de8d12",
        "status" : "passed",
        "time" : {
          "start" : 1753380854431,
          "stop" : 1753380856671,
          "duration" : 2240
        }
      }, {
        "uid" : "f18f7d965cc564de",
        "reportUrl" : "https://Nat754.github.io/PulseWave/459//#testresult/f18f7d965cc564de",
        "status" : "passed",
        "time" : {
          "start" : 1753294424817,
          "stop" : 1753294426774,
          "duration" : 1957
        }
      }, {
        "uid" : "cdf8538906b0fc59",
        "reportUrl" : "https://Nat754.github.io/PulseWave/458//#testresult/cdf8538906b0fc59",
        "status" : "passed",
        "time" : {
          "start" : 1753208038642,
          "stop" : 1753208040121,
          "duration" : 1479
        }
      }, {
        "uid" : "a717405dc5e41ead",
        "reportUrl" : "https://Nat754.github.io/PulseWave/457//#testresult/a717405dc5e41ead",
        "status" : "passed",
        "time" : {
          "start" : 1753121654159,
          "stop" : 1753121656209,
          "duration" : 2050
        }
      }, {
        "uid" : "11b85aebb236e179",
        "reportUrl" : "https://Nat754.github.io/PulseWave/456//#testresult/11b85aebb236e179",
        "status" : "passed",
        "time" : {
          "start" : 1753075860046,
          "stop" : 1753075861567,
          "duration" : 1521
        }
      }, {
        "uid" : "8756205de6c941d3",
        "reportUrl" : "https://Nat754.github.io/PulseWave/456//#testresult/8756205de6c941d3",
        "status" : "passed",
        "time" : {
          "start" : 1753042343948,
          "stop" : 1753042345511,
          "duration" : 1563
        }
      }, {
        "uid" : "b4f939cf2a8822fc",
        "reportUrl" : "https://Nat754.github.io/PulseWave/456//#testresult/b4f939cf2a8822fc",
        "status" : "passed",
        "time" : {
          "start" : 1753039502658,
          "stop" : 1753039504743,
          "duration" : 2085
        }
      }, {
        "uid" : "cb61b911be265d7c",
        "reportUrl" : "https://Nat754.github.io/PulseWave/456//#testresult/cb61b911be265d7c",
        "status" : "passed",
        "time" : {
          "start" : 1753035139110,
          "stop" : 1753035140616,
          "duration" : 1506
        }
      }, {
        "uid" : "52a3d2cd65499e7a",
        "reportUrl" : "https://Nat754.github.io/PulseWave/455//#testresult/52a3d2cd65499e7a",
        "status" : "passed",
        "time" : {
          "start" : 1752948742945,
          "stop" : 1752948746174,
          "duration" : 3229
        }
      }, {
        "uid" : "1172bfc2e25f86e6",
        "reportUrl" : "https://Nat754.github.io/PulseWave/454//#testresult/1172bfc2e25f86e6",
        "status" : "passed",
        "time" : {
          "start" : 1752862437938,
          "stop" : 1752862439621,
          "duration" : 1683
        }
      }, {
        "uid" : "ee1ee19360019793",
        "reportUrl" : "https://Nat754.github.io/PulseWave/453//#testresult/ee1ee19360019793",
        "status" : "passed",
        "time" : {
          "start" : 1752776030291,
          "stop" : 1752776031854,
          "duration" : 1563
        }
      }, {
        "uid" : "3889050fc1ff30df",
        "reportUrl" : "https://Nat754.github.io/PulseWave/452//#testresult/3889050fc1ff30df",
        "status" : "passed",
        "time" : {
          "start" : 1752689639830,
          "stop" : 1752689641823,
          "duration" : 1993
        }
      }, {
        "uid" : "721c635e246b93aa",
        "reportUrl" : "https://Nat754.github.io/PulseWave/451//#testresult/721c635e246b93aa",
        "status" : "passed",
        "time" : {
          "start" : 1752603262435,
          "stop" : 1752603264461,
          "duration" : 2026
        }
      }, {
        "uid" : "9a37543a8cc2f64b",
        "reportUrl" : "https://Nat754.github.io/PulseWave/450//#testresult/9a37543a8cc2f64b",
        "status" : "passed",
        "time" : {
          "start" : 1752516850520,
          "stop" : 1752516852035,
          "duration" : 1515
        }
      }, {
        "uid" : "ba2dd8da2630811c",
        "reportUrl" : "https://Nat754.github.io/PulseWave/449//#testresult/ba2dd8da2630811c",
        "status" : "passed",
        "time" : {
          "start" : 1752430324573,
          "stop" : 1752430326119,
          "duration" : 1546
        }
      } ]
    },
    "tags" : [ ]
  },
  "source" : "e12ccca66ca56722.json",
  "parameterValues" : [ ]
}