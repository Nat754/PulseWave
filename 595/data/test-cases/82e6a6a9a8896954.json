{"uid":"82e6a6a9a8896954","name":"A.13 POST Подтверждение приглашения в РП","fullName":"tests.api_tests.api_test.TestAPI#test_post_api_workspace_confirm_invite","historyId":"50e0a01f9010f61eca10170f86126523","time":{"start":1765079767588,"stop":1765079776868,"duration":9280},"status":"failed","statusMessage":"AssertionError: Unexpected status code. Expected: 204. Actual: 400","statusTrace":"self = <tests.api_tests.api_test.TestAPI object at 0x7f8c2191ff80>\nuse_api_base = <api_testing.api_base.ApiBase object at 0x7f8c21953830>\n\n    @allure.title(\"A.13 POST Подтверждение приглашения в РП\")\n    def test_post_api_workspace_confirm_invite(self, use_api_base):\n        jwt = use_api_base.create_tokens(email1, password0)[0]\n        workspace_id = use_api_base.get_workspace_id()\n        url = f'{self.link.BASE_URL}api/workspace/{workspace_id}/invite_user/'\n        requests.post(url, headers={'accept': 'application/json', 'Authorization': f\"{jwt}\"},\n                      json=self.constant.INVITE_USER)\n        token = use_api_base.get_token_on_email(email_auth, password_auth_email, 'invite/workspace/')\n        url = f'{self.link.BASE_URL}api/workspace/confirm_invite/'\n        response = requests.post(url, headers={'accept': 'application/json'},\n                                 json={\"token\": token})\n>       Assertions.assert_status_code(response, self.code.STATUS_CREATE)\n\ntests/api_tests/api_test.py:143: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nresponse = <Response [400]>, expected_status_code = 204\n\n    @staticmethod\n    def assert_status_code(response: Response, expected_status_code: int):\n        actual_status_code = response.status_code\n        with allure.step(f\"Expected status {expected_status_code}\"):\n>           assert actual_status_code == expected_status_code, \\\n                f\"Unexpected status code. Expected: {expected_status_code}. Actual: {actual_status_code}\"\nE           AssertionError: Unexpected status code. Expected: 204. Actual: 400\n\napi_testing/assertions.py:11: AssertionError","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1765079738267,"stop":1765079738283,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clear_allure_result_folder","time":{"start":1765079738283,"stop":1765079738283,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"use_api_base","time":{"start":1765079767587,"stop":1765079767587,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: Unexpected status code. Expected: 204. Actual: 400","statusTrace":"self = <tests.api_tests.api_test.TestAPI object at 0x7f8c2191ff80>\nuse_api_base = <api_testing.api_base.ApiBase object at 0x7f8c21953830>\n\n    @allure.title(\"A.13 POST Подтверждение приглашения в РП\")\n    def test_post_api_workspace_confirm_invite(self, use_api_base):\n        jwt = use_api_base.create_tokens(email1, password0)[0]\n        workspace_id = use_api_base.get_workspace_id()\n        url = f'{self.link.BASE_URL}api/workspace/{workspace_id}/invite_user/'\n        requests.post(url, headers={'accept': 'application/json', 'Authorization': f\"{jwt}\"},\n                      json=self.constant.INVITE_USER)\n        token = use_api_base.get_token_on_email(email_auth, password_auth_email, 'invite/workspace/')\n        url = f'{self.link.BASE_URL}api/workspace/confirm_invite/'\n        response = requests.post(url, headers={'accept': 'application/json'},\n                                 json={\"token\": token})\n>       Assertions.assert_status_code(response, self.code.STATUS_CREATE)\n\ntests/api_tests/api_test.py:143: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nresponse = <Response [400]>, expected_status_code = 204\n\n    @staticmethod\n    def assert_status_code(response: Response, expected_status_code: int):\n        actual_status_code = response.status_code\n        with allure.step(f\"Expected status {expected_status_code}\"):\n>           assert actual_status_code == expected_status_code, \\\n                f\"Unexpected status code. Expected: {expected_status_code}. Actual: {actual_status_code}\"\nE           AssertionError: Unexpected status code. Expected: 204. Actual: 400\n\napi_testing/assertions.py:11: AssertionError","steps":[{"name":"Получить access токен пользователя","time":{"start":1765079767588,"stop":1765079772220,"duration":4632},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Получить id рабочего пространства","time":{"start":1765079772220,"stop":1765079773632,"duration":1412},"status":"passed","steps":[{"name":"Получить access токен пользователя","time":{"start":1765079772220,"stop":1765079773044,"duration":824},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Прочитать сообщение","time":{"start":1765079774202,"stop":1765079775834,"duration":1632},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Получить письмо","time":{"start":1765079776322,"stop":1765079776322,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Получить ссылку в сообщении","time":{"start":1765079776322,"stop":1765079776322,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Expected status 204","time":{"start":1765079776868,"stop":1765079776868,"duration":0},"status":"failed","statusMessage":"AssertionError: Unexpected status code. Expected: 204. Actual: 400\n","statusTrace":"  File \"/home/runner/work/PulseWave/PulseWave/api_testing/assertions.py\", line 11, in assert_status_code\n    assert actual_status_code == expected_status_code, \\\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":7,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"epic","value":"Тестирование API"},{"name":"tag","value":"smoke"},{"name":"parentSuite","value":"tests.api_tests"},{"name":"suite","value":"api_test"},{"name":"subSuite","value":"TestAPI"},{"name":"host","value":"runnervmoqczp"},{"name":"thread","value":"2625-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.api_tests.api_test"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":1,"broken":0,"skipped":0,"passed":38,"unknown":0,"total":39},"items":[{"uid":"b080ed612b18951a","reportUrl":"https://Nat754.github.io/PulseWave/594/#testresult/b080ed612b18951a","status":"passed","time":{"start":1764992494357,"stop":1764992499660,"duration":5303}},{"uid":"17349a8b8fb1a5a2","reportUrl":"https://Nat754.github.io/PulseWave/593/#testresult/17349a8b8fb1a5a2","status":"passed","time":{"start":1764906624584,"stop":1764906630319,"duration":5735}},{"uid":"ac6cb00215daeb19","reportUrl":"https://Nat754.github.io/PulseWave/592/#testresult/ac6cb00215daeb19","status":"passed","time":{"start":1764820290922,"stop":1764820296433,"duration":5511}},{"uid":"e047ee8abd34aef3","reportUrl":"https://Nat754.github.io/PulseWave/591/#testresult/e047ee8abd34aef3","status":"passed","time":{"start":1764733813115,"stop":1764733823483,"duration":10368}},{"uid":"c729bbb99f15c4cf","reportUrl":"https://Nat754.github.io/PulseWave/590/#testresult/c729bbb99f15c4cf","status":"passed","time":{"start":1764647473482,"stop":1764647478621,"duration":5139}},{"uid":"fb3a60d663888180","reportUrl":"https://Nat754.github.io/PulseWave/589/#testresult/fb3a60d663888180","status":"passed","time":{"start":1764562160018,"stop":1764562165396,"duration":5378}},{"uid":"234c2607dd9425c3","reportUrl":"https://Nat754.github.io/PulseWave/588/#testresult/234c2607dd9425c3","status":"passed","time":{"start":1764475046844,"stop":1764475059723,"duration":12879}},{"uid":"8f1a2c63a4494f9b","reportUrl":"https://Nat754.github.io/PulseWave/587/#testresult/8f1a2c63a4494f9b","status":"passed","time":{"start":1764387840973,"stop":1764387846425,"duration":5452}},{"uid":"d580a568aa976594","reportUrl":"https://Nat754.github.io/PulseWave/27/#testresult/d580a568aa976594","status":"passed","time":{"start":1764326135488,"stop":1764326150023,"duration":14535}},{"uid":"c49d6211993c8ef4","reportUrl":"https://Nat754.github.io/PulseWave/26/#testresult/c49d6211993c8ef4","status":"passed","time":{"start":1764314875748,"stop":1764314880820,"duration":5072}},{"uid":"c97ef2d4b6f9f7a7","reportUrl":"https://Nat754.github.io/PulseWave/586/#testresult/c97ef2d4b6f9f7a7","status":"passed","time":{"start":1764301418132,"stop":1764301427620,"duration":9488}},{"uid":"c0784ff38cad8a0b","reportUrl":"https://Nat754.github.io/PulseWave/585/#testresult/c0784ff38cad8a0b","status":"passed","time":{"start":1764215037809,"stop":1764215045729,"duration":7920}},{"uid":"97b56d97ba90c62e","reportUrl":"https://Nat754.github.io/PulseWave/584/#testresult/97b56d97ba90c62e","status":"passed","time":{"start":1764128775107,"stop":1764128780750,"duration":5643}},{"uid":"5224086998fc3758","reportUrl":"https://Nat754.github.io/PulseWave/583/#testresult/5224086998fc3758","status":"passed","time":{"start":1764042464906,"stop":1764042471335,"duration":6429}},{"uid":"a88fc9418e1bd4a5","reportUrl":"https://Nat754.github.io/PulseWave/582/#testresult/a88fc9418e1bd4a5","status":"passed","time":{"start":1763956525095,"stop":1763956530495,"duration":5400}},{"uid":"3c71b81592e3a0cb","reportUrl":"https://Nat754.github.io/PulseWave/581/#testresult/3c71b81592e3a0cb","status":"passed","time":{"start":1763870175921,"stop":1763870181639,"duration":5718}},{"uid":"b38269894de05f83","reportUrl":"https://Nat754.github.io/PulseWave/580/#testresult/b38269894de05f83","status":"passed","time":{"start":1763782574757,"stop":1763782583647,"duration":8890}},{"uid":"d1b7e724566b2f2d","reportUrl":"https://Nat754.github.io/PulseWave/579/#testresult/d1b7e724566b2f2d","status":"passed","time":{"start":1763760697895,"stop":1763760707858,"duration":9963}},{"uid":"9ea55155a6adc802","reportUrl":"https://Nat754.github.io/PulseWave/579/#testresult/9ea55155a6adc802","status":"passed","time":{"start":1763696555482,"stop":1763696568268,"duration":12786}},{"uid":"5bc9cceb53d753bc","reportUrl":"https://Nat754.github.io/PulseWave/578/#testresult/5bc9cceb53d753bc","status":"passed","time":{"start":1763610172398,"stop":1763610186867,"duration":14469}}]},"tags":["smoke"]},"source":"82e6a6a9a8896954.json","parameterValues":[]}